# ç©ºæ–‡ä»¶å¤¹ç”¨é€”åˆ†ææŠ¥å‘Š

## ğŸ“ å‘ç°çš„ç©ºæ–‡ä»¶å¤¹

### 1. `app/(auth)/` - Next.js è·¯ç”±ç»„

**ç”¨é€”è¯´æ˜ï¼š**
- Next.js 13+ çš„**è·¯ç”±ç»„ï¼ˆRoute Groupsï¼‰**åŠŸèƒ½
- æ‹¬å·åŒ…è£¹çš„æ–‡ä»¶å¤¹å**ä¸ä¼šå‡ºç°åœ¨ URL è·¯å¾„ä¸­**
- ç”¨äºç»„ç»‡è·¯ç”±å’Œå…±äº«å¸ƒå±€

**å½“å‰çŠ¶æ€ï¼š**
- âŒ **æ–‡ä»¶å¤¹ä¸ºç©º**
- âœ… å®é™…çš„ç™»å½•é¡µé¢åœ¨ `app/login/page.tsx`
- âœ… å®é™…çš„æ³¨å†Œé¡µé¢åœ¨ `app/register/page.tsx`

**åº”è¯¥åŒ…å«çš„æ–‡ä»¶ï¼š**
æ ¹æ® Next.js è·¯ç”±ç»„çš„è®¾è®¡ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹**æœ¬æ¥åº”è¯¥åŒ…å«**ï¼š
- `app/(auth)/login/page.tsx` - ç™»å½•é¡µé¢ï¼ˆä½†å®é™…åœ¨ `app/login/page.tsx`ï¼‰
- `app/(auth)/register/page.tsx` - æ³¨å†Œé¡µé¢ï¼ˆä½†å®é™…åœ¨ `app/register/page.tsx`ï¼‰
- `app/(auth)/layout.tsx` - å…±äº«å¸ƒå±€ï¼ˆå¯é€‰ï¼Œç”¨äºè®¤è¯é¡µé¢çš„ç»Ÿä¸€å¸ƒå±€ï¼‰

**ç»“è®ºï¼š**
- è¿™ä¸ªæ–‡ä»¶å¤¹æ˜¯**è®¡åˆ’ä½¿ç”¨ä½†æœªå®ç°**çš„
- æˆ–è€…æ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­**æ”¹å˜äº†æ¶æ„**ï¼Œå°†é¡µé¢ç›´æ¥æ”¾åœ¨äº† `app/login/` å’Œ `app/register/`
- **å¯ä»¥å®‰å…¨åˆ é™¤**ï¼Œå› ä¸ºå®é™…é¡µé¢ä¸åœ¨è¿™ä¸ªè·¯ç”±ç»„ä¸­

---

### 2. `app/(dashboard)/` - Next.js è·¯ç”±ç»„

**ç”¨é€”è¯´æ˜ï¼š**
- åŒæ ·æ˜¯ Next.js è·¯ç”±ç»„
- ç”¨äºç»„ç»‡éœ€è¦è®¤è¯çš„é¡µé¢ï¼ˆä»ªè¡¨ç›˜ç›¸å…³ï¼‰

**å½“å‰çŠ¶æ€ï¼š**
- âŒ **æ–‡ä»¶å¤¹ä¸ºç©º**
- âœ… å®é™…çš„ä»ªè¡¨ç›˜é¡µé¢åœ¨ `app/dashboard/page.tsx`

**åº”è¯¥åŒ…å«çš„æ–‡ä»¶ï¼š**
æ ¹æ®è®¾è®¡ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹**æœ¬æ¥åº”è¯¥åŒ…å«**ï¼š
- `app/(dashboard)/dashboard/page.tsx` - ä¸ªäººä¸­å¿ƒï¼ˆä½†å®é™…åœ¨ `app/dashboard/page.tsx`ï¼‰
- `app/(dashboard)/layout.tsx` - å…±äº«å¸ƒå±€ï¼ˆå¯é€‰ï¼Œç”¨äºéœ€è¦è®¤è¯çš„é¡µé¢çš„ç»Ÿä¸€å¸ƒå±€ï¼Œæ¯”å¦‚ç»Ÿä¸€çš„ä¾§è¾¹æ ï¼‰

**ç»“è®ºï¼š**
- è¿™ä¸ªæ–‡ä»¶å¤¹ä¹Ÿæ˜¯**è®¡åˆ’ä½¿ç”¨ä½†æœªå®ç°**çš„
- å®é™…é¡µé¢ç›´æ¥æ”¾åœ¨äº† `app/dashboard/`
- **å¯ä»¥å®‰å…¨åˆ é™¤**

---

### 3. `lib/utils/` - å·¥å…·å‡½æ•°ç›®å½•

**ç”¨é€”è¯´æ˜ï¼š**
- ç”¨äºå­˜æ”¾å·¥å…·å‡½æ•°æ–‡ä»¶
- å¯ä»¥å°†å·¥å…·å‡½æ•°æŒ‰åŠŸèƒ½æ‹†åˆ†åˆ°å¤šä¸ªæ–‡ä»¶

**å½“å‰çŠ¶æ€ï¼š**
- âŒ **ç›®å½•ä¸ºç©º**
- âœ… `lib/utils.ts` æ–‡ä»¶å­˜åœ¨ï¼ŒåŒ…å«æ‰€æœ‰å·¥å…·å‡½æ•°ï¼š
  - `formatDate()` - æ ¼å¼åŒ–æ—¥æœŸ
  - `formatCurrency()` - æ ¼å¼åŒ–é‡‘é¢
  - `generateOrderNumber()` - ç”Ÿæˆè®¢å•å·
  - `isValidEmail()` - éªŒè¯é‚®ç®±
  - `isValidPhone()` - éªŒè¯æ‰‹æœºå·

**è¢«å¼•ç”¨çš„åœ°æ–¹ï¼š**
- `app/api/auth/register/route.ts` - å¯¼å…¥ `isValidEmail, isValidPhone`
- `app/api/orders/route.ts` - å¯¼å…¥ `generateOrderNumber`

**åº”è¯¥åŒ…å«çš„æ–‡ä»¶ï¼ˆå¦‚æœæ‹†åˆ†ï¼‰ï¼š**
å¦‚æœè¦å°†å·¥å…·å‡½æ•°æ‹†åˆ†ï¼Œè¿™ä¸ªç›®å½•**æœ¬æ¥åº”è¯¥åŒ…å«**ï¼š
- `lib/utils/date.ts` - æ—¥æœŸç›¸å…³å·¥å…·
- `lib/utils/currency.ts` - é‡‘é¢ç›¸å…³å·¥å…·
- `lib/utils/validation.ts` - éªŒè¯ç›¸å…³å·¥å…·
- `lib/utils/order.ts` - è®¢å•ç›¸å…³å·¥å…·
- `lib/utils/index.ts` - ç»Ÿä¸€å¯¼å‡º

**ç»“è®ºï¼š**
- è¿™ä¸ªç›®å½•æ˜¯**è®¡åˆ’æ‹†åˆ†å·¥å…·å‡½æ•°ä½†æœªå®ç°**çš„
- ç›®å‰æ‰€æœ‰å·¥å…·å‡½æ•°éƒ½åœ¨ `lib/utils.ts` ä¸­ï¼Œå·¥ä½œæ­£å¸¸
- **å¯ä»¥ä¿ç•™**ï¼ˆå¦‚æœæœªæ¥è¦æ‹†åˆ†ï¼‰æˆ–**åˆ é™¤**ï¼ˆå¦‚æœä¸éœ€è¦æ‹†åˆ†ï¼‰

---

## ğŸ“Š æ€»ç»“

| æ–‡ä»¶å¤¹ | ç”¨é€” | æ˜¯å¦åº”è¯¥åŒ…å«æ–‡ä»¶ | å½“å‰çŠ¶æ€ | å»ºè®® |
|--------|------|----------------|----------|------|
| `app/(auth)/` | Next.js è·¯ç”±ç»„ï¼ˆè®¤è¯é¡µé¢ï¼‰ | âœ… æ˜¯ | âŒ ç©º | **å¯ä»¥åˆ é™¤** |
| `app/(dashboard)/` | Next.js è·¯ç”±ç»„ï¼ˆä»ªè¡¨ç›˜é¡µé¢ï¼‰ | âœ… æ˜¯ | âŒ ç©º | **å¯ä»¥åˆ é™¤** |
| `lib/utils/` | å·¥å…·å‡½æ•°ç›®å½•ï¼ˆæ‹†åˆ†ç”¨ï¼‰ | âš ï¸ å¯é€‰ | âŒ ç©º | **ä¿ç•™æˆ–åˆ é™¤** |

## ğŸ”§ å»ºè®®æ“ä½œ

### æ–¹æ¡ˆ 1ï¼šæ¸…ç†ç©ºæ–‡ä»¶å¤¹ï¼ˆæ¨èï¼‰

å¦‚æœç¡®è®¤ä¸å†ä½¿ç”¨è¿™äº›è·¯ç”±ç»„å’Œæ‹†åˆ†å·¥å…·å‡½æ•°ï¼š

```bash
# åˆ é™¤ç©ºçš„è·¯ç”±ç»„æ–‡ä»¶å¤¹
rm -rf app/\(auth\)
rm -rf app/\(dashboard\)

# åˆ é™¤ç©ºçš„å·¥å…·å‡½æ•°ç›®å½•ï¼ˆå¦‚æœä¸éœ€è¦æ‹†åˆ†ï¼‰
rm -rf lib/utils
```

### æ–¹æ¡ˆ 2ï¼šå®ç°è·¯ç”±ç»„ï¼ˆå¦‚æœä½¿ç”¨ Next.jsï¼‰

å¦‚æœæƒ³ä½¿ç”¨ Next.js è·¯ç”±ç»„åŠŸèƒ½ï¼š

1. **å®ç° `app/(auth)/`**ï¼š
   ```bash
   # ç§»åŠ¨ç™»å½•å’Œæ³¨å†Œé¡µé¢åˆ°è·¯ç”±ç»„
   mv app/login app/(auth)/login
   mv app/register app/(auth)/register
   # åˆ›å»ºå…±äº«å¸ƒå±€ï¼ˆå¯é€‰ï¼‰
   # touch app/(auth)/layout.tsx
   ```

2. **å®ç° `app/(dashboard)/`**ï¼š
   ```bash
   # ç§»åŠ¨ä»ªè¡¨ç›˜é¡µé¢åˆ°è·¯ç”±ç»„
   mv app/dashboard app/(dashboard)/dashboard
   # åˆ›å»ºå…±äº«å¸ƒå±€ï¼ˆå¯é€‰ï¼‰
   # touch app/(dashboard)/layout.tsx
   ```

3. **æ‹†åˆ†å·¥å…·å‡½æ•°**ï¼š
   ```bash
   # åˆ›å»ºæ‹†åˆ†åçš„å·¥å…·å‡½æ•°æ–‡ä»¶
   # å°† lib/utils.ts ä¸­çš„å‡½æ•°æ‹†åˆ†åˆ° lib/utils/*.ts
   ```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å‰åç«¯åˆ†ç¦»å**ï¼šå¦‚æœé¡¹ç›®å·²ç»å‰åç«¯åˆ†ç¦»ï¼Œè¿™äº› Next.js è·¯ç”±ç»„æ–‡ä»¶å¤¹**ä¸å†éœ€è¦**ï¼Œå› ä¸ºï¼š
   - å‰ç«¯ä½¿ç”¨ Vite + React Routerï¼Œä¸æ˜¯ Next.js
   - è·¯ç”±ç®¡ç†åœ¨ `frontend/src/App.tsx` ä¸­

2. **å·¥å…·å‡½æ•°**ï¼š`lib/utils.ts` ç›®å‰å·¥ä½œæ­£å¸¸ï¼Œæ‹†åˆ†æ˜¯å¯é€‰çš„ä¼˜åŒ–ï¼Œä¸æ˜¯å¿…éœ€çš„

3. **åˆ é™¤å‰å¤‡ä»½**ï¼šå¦‚æœåˆ é™¤ï¼Œå»ºè®®å…ˆæäº¤åˆ° Gitï¼Œä»¥ä¾¿éœ€è¦æ—¶å¯ä»¥æ¢å¤
