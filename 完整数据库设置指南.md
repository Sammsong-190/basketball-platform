# å®Œæ•´æ•°æ®åº“è®¾ç½®æŒ‡å—

## ğŸ“‹ å‰ç½®æ¡ä»¶æ£€æŸ¥

### 1. æ£€æŸ¥ MySQL æ˜¯å¦å®‰è£…

```bash
mysql --version
```

å¦‚æœæœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£… MySQLã€‚

### 2. å¯åŠ¨ MySQL æœåŠ¡

**macOS (ä½¿ç”¨ Homebrew):**
```bash
brew services start mysql
# æˆ–
mysql.server start
```

**Linux:**
```bash
sudo systemctl start mysql
# æˆ–
sudo service mysql start
```

**éªŒè¯æœåŠ¡è¿è¡Œ:**
```bash
# macOS
brew services list | grep mysql

# Linux
sudo systemctl status mysql
```

## ğŸ”§ æ•°æ®åº“è®¾ç½®æ­¥éª¤

### æ­¥éª¤ 1: åˆ›å»ºæ•°æ®åº“

```bash
mysql -u root -p
```

åœ¨ MySQL å‘½ä»¤è¡Œä¸­æ‰§è¡Œï¼š

```sql
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE IF NOT EXISTS basketball_platform 
CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- éªŒè¯åˆ›å»º
SHOW DATABASES;

-- é€€å‡º
EXIT;
```

### æ­¥éª¤ 2: é…ç½® .env æ–‡ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæˆ–æ›´æ–° `.env` æ–‡ä»¶ï¼š

```env
# MySQL è¿æ¥å­—ç¬¦ä¸²
# æ ¼å¼: mysql://ç”¨æˆ·å:å¯†ç @ä¸»æœº:ç«¯å£/æ•°æ®åº“å
# å¦‚æœ root æ²¡æœ‰å¯†ç ï¼Œä½¿ç”¨: mysql://root@localhost:3306/basketball_platform
# å¦‚æœæœ‰å¯†ç ï¼Œä½¿ç”¨: mysql://root:your_password@localhost:3306/basketball_platform
DATABASE_URL="mysql://root:your_password@localhost:3306/basketball_platform"

# JWT Secret
JWT_SECRET="basketball-platform-secret-key-change-in-production-2024"

# NextAuth (å¯é€‰)
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="basketball-nextauth-secret-change-in-production"
```

**é‡è¦æç¤º:**
- å°† `your_password` æ›¿æ¢ä¸ºæ‚¨çš„å®é™… MySQL root å¯†ç 
- å¦‚æœ root ç”¨æˆ·æ²¡æœ‰å¯†ç ï¼Œå¯ä»¥çœç•¥å¯†ç éƒ¨åˆ†: `mysql://root@localhost:3306/basketball_platform`
- å¦‚æœä½¿ç”¨å…¶ä»–ç”¨æˆ·ï¼Œæ›¿æ¢ `root` ä¸ºæ‚¨çš„ç”¨æˆ·å

### æ­¥éª¤ 3: ç”Ÿæˆ Prisma å®¢æˆ·ç«¯

```bash
npm run db:generate
```

### æ­¥éª¤ 4: æ¨é€æ•°æ®åº“æ¨¡å¼

```bash
npm run db:push
```

è¿™å°†æ ¹æ® `prisma/schema.prisma` åœ¨ MySQL ä¸­åˆ›å»ºæ‰€æœ‰è¡¨ç»“æ„ã€‚

### æ­¥éª¤ 5: éªŒè¯è¿æ¥

```bash
# æµ‹è¯•æ•°æ®åº“è¿æ¥
npm run db:test

# æˆ–æ‰“å¼€ Prisma Studio æŸ¥çœ‹æ•°æ®åº“
npm run db:studio
```

## ğŸ¯ ä¸€é”®è®¾ç½®è„šæœ¬

è¿è¡Œè‡ªåŠ¨åŒ–è®¾ç½®è„šæœ¬ï¼š

```bash
./setup-database.sh
```

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: MySQL æœåŠ¡æœªè¿è¡Œ

**ç—‡çŠ¶:** `ERROR 2002 (HY000): Can't connect to local MySQL server`

**è§£å†³:**
```bash
# macOS
brew services start mysql

# Linux
sudo systemctl start mysql
```

### é—®é¢˜ 2: è®¤è¯å¤±è´¥

**ç—‡çŠ¶:** `Access denied for user 'root'@'localhost'`

**è§£å†³:**
1. æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„å¯†ç æ˜¯å¦æ­£ç¡®
2. å°è¯•é‡ç½® MySQL root å¯†ç 
3. æˆ–åˆ›å»ºæ–°ç”¨æˆ·å¹¶æˆæƒ

### é—®é¢˜ 3: æ•°æ®åº“ä¸å­˜åœ¨

**ç—‡çŠ¶:** `Unknown database 'basketball_platform'`

**è§£å†³:**
```sql
CREATE DATABASE basketball_platform CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

### é—®é¢˜ 4: å­—ç¬¦é›†é”™è¯¯

**è§£å†³:**
```sql
ALTER DATABASE basketball_platform CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

## ğŸ“Š éªŒè¯æ•°æ®åº“

è¿è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ•°æ®åº“è¡¨ï¼š

```bash
mysql -u root -p basketball_platform -e "SHOW TABLES;"
```

åº”è¯¥çœ‹åˆ°æ‰€æœ‰åˆ›å»ºçš„è¡¨ï¼ŒåŒ…æ‹¬ï¼š
- User
- Product
- Order
- Post
- Comment
- ç­‰ç­‰...

## âœ… å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] MySQL æœåŠ¡æ­£åœ¨è¿è¡Œ
- [ ] æ•°æ®åº“ `basketball_platform` å·²åˆ›å»º
- [ ] `.env` æ–‡ä»¶é…ç½®æ­£ç¡®
- [ ] Prisma å®¢æˆ·ç«¯å·²ç”Ÿæˆ
- [ ] æ•°æ®åº“æ¨¡å¼å·²æ¨é€
- [ ] è¿æ¥æµ‹è¯•é€šè¿‡

å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œæ•°æ®åº“å°±é…ç½®å¥½äº†ï¼
